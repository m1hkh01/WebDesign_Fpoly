<header class="glass">
    <nav>
        <a href="index.html" class="logo">
            <!-- SVG logo -->
            <svg width="64px" height="64px" viewBox="0 0 192.756 192.756" xmlns="http://www.w3.org/2000/svg" fill="#ffffff">
                <g fill-rule="evenodd" clip-rule="evenodd">
                    <path d="M42.741 71.477c-9.881 11.604-19.355 25.994-19.45 36.75-.037 4.047 1.255 7.58 4.354 10.256 
                     4.46 3.854 9.374 5.213 14.264 5.221 7.146.01 14.242-2.873 19.798-5.096 
                     9.357-3.742 112.79-48.659 112.79-48.659.998-.5.811-1.123-.438-.812
                     -.504.126-112.603 30.505-112.603 30.505a24.771 24.771 0 0 1-6.524.934
                     c-8.615.051-16.281-4.731-16.219-14.808.024-3.943 1.231-8.698 4.028-14.291z"/>
                </g>
            </svg>
        </a>

        <ul class="nav-links" style="padding-top: 10px;">
            <li><a href="index.html">Home</a></li>
            <li><a href="index.html#product">Product</a></li>
            <li><a href="cart.html">Cart</a></li>

            <!-- Account dropdown -->
            <li class="dropdown" id="account-dropdown">
                <a href="login.html" class="dropbtn" style="padding-top: 0px;">Login</a>
                <div class="dropdown-content glass" style="display:none; position:absolute; right:0; min-width:180px;">
                    <!-- Ná»™i dung sáº½ Ä‘Æ°á»£c JS chÃ¨n -->
                </div>
            </li>

            <li><a href="index.html#contact">Connect</a></li>
        </ul>

        <div class="mobile-menu-toggle">
            <div class="hamburger-line"></div>
            <div class="hamburger-line"></div>
            <div class="hamburger-line"></div>
        </div>
    </nav>
</header>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const CURRENT_KEY = "ss_currentUser";
    const currentUser = JSON.parse(localStorage.getItem(CURRENT_KEY));
    const accountDropdown = document.getElementById("account-dropdown");
    const dropContent = accountDropdown.querySelector(".dropdown-content");
    const dropBtn = accountDropdown.querySelector(".dropbtn");

    if (currentUser) {
        // Náº¿u Ä‘Ã£ login, hiá»ƒn thá»‹ tÃªn + nÃºt Logout
        dropContent.innerHTML = `
            <div style="padding:10px 15px; border-bottom:1px solid rgba(255,255,255,0.2); color:white;">
                ðŸ‘‹ Xin chÃ o, <b>${currentUser.fullName || currentUser.email.split("@")[0]}</b>
            </div>
            <button id="logoutBtn" style="width:100%; padding:8px 0; background:#dc3545; color:white; border:none; cursor:pointer; border-radius:0 0 6px 6px;">
                Logout
            </button>
        `;
        dropContent.style.display = "none";

        document.getElementById("logoutBtn").addEventListener("click", () => {
            if (confirm("Báº¡n cÃ³ cháº¯c muá»‘n Ä‘Äƒng xuáº¥t khÃ´ng?")) {
                localStorage.removeItem(CURRENT_KEY);
                location.reload();
            }
        });

        // Click Ä‘á»ƒ toggle dropdown
        dropBtn.addEventListener("click", () => {
            dropContent.style.display = dropContent.style.display === "none" ? "block" : "none";
        });

        // Click ngoÃ i dropdown Ä‘á»ƒ Ä‘Ã³ng
        window.addEventListener("click", (e) => {
            if (!accountDropdown.contains(e.target)) {
                dropContent.style.display = "none";
            }
        });
    } else {
        // Náº¿u chÆ°a login, click Account sáº½ chuyá»ƒn sang login.html
        dropBtn.addEventListener("click", () => {
            window.location.href = "login.html";
        });
    }
});
</script>
