<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Account - Nike Store</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link href="style/neuglass.css" rel="stylesheet">
    <link href="style/style.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="icon" type="image/svg+xml" href='data:image/svg+xml;utf8,
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 1200">
  <circle cx="600" cy="600" r="600" fill="white"/>
  <path d="M245.8075 717.62406c-29.79588-1.1837-54.1734-9.3368-73.23459-24.4796-3.63775-2.8928-12.30611-11.5663-15.21427-15.2245-7.72958-9.7193-12.98467-19.1785-16.48977-29.6734-10.7857-32.3061-5.23469-74.6989 15.87753-121.2243 18.0765-39.8316 45.96932-79.3366 94.63252-134.0508 7.16836-8.0511 28.51526-31.5969 28.65302-31.5969.051 0-1.11225 2.0153-2.57652 4.4694-12.65304 21.1938-23.47957 46.158-29.37751 67.7703-9.47448 34.6785-8.33163 64.4387 3.34693 87.5151 8.05611 15.898 21.86731 29.6684 37.3979 37.2806 27.18874 13.3214 66.9948 14.4235 115.60699 3.2245 3.34694-.7755 169.19363-44.801 368.55048-97.8366 199.35686-53.0408 362.49439-96.4029 362.51989-96.3672.056.046-463.16259 198.2599-703.62654 301.0914-38.08158 16.2806-48.26521 20.3928-66.16827 26.6785-45.76525 16.0714-86.76008 23.7398-119.89779 22.4235z" fill="black"/>
</svg>'>

    <style>
        /* ===== ANIMATIONS ===== */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        @keyframes shimmer {
            0% {
                background-position: -1000px 0;
            }
            100% {
                background-position: 1000px 0;
            }
        }

        @keyframes rotate {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        @keyframes glow {
            0%, 100% {
                box-shadow: 0 0 20px rgba(102, 126, 234, 0.3);
            }
            50% {
                box-shadow: 0 0 40px rgba(102, 126, 234, 0.6);
            }
        }

        /* ===== HERO SECTION ===== */
        .account-hero {
            padding: 120px 20px 60px;
            text-align: center;
            position: relative;
            z-index: 1;
            animation: fadeInUp 0.8s ease-out;
        }

        .account-hero h1 {
            font-size: 3rem;
            font-weight: 800;
            background: linear-gradient(135deg, #fff 0%, #a0a0a0 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
            animation: scaleIn 0.6s ease-out;
        }

        .account-hero p {
            color: rgba(255, 255, 255, 0.7);
            font-size: 1.1rem;
            animation: fadeInUp 0.8s ease-out 0.2s backwards;
        }

        /* ===== CONTAINER ===== */
        .account-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px 100px;
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 30px;
            position: relative;
            z-index: 1;
        }

        /* ===== SIDEBAR ===== */
        .account-sidebar {
            display: flex;
            flex-direction: column;
            gap: 15px;
            animation: slideInLeft 0.8s ease-out 0.3s backwards;
        }

        .sidebar-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 25px;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
        }

        .sidebar-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.6s ease;
        }

        .sidebar-card:hover::before {
            left: 100%;
        }

        .sidebar-card:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }

        .user-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            font-weight: 700;
            color: white;
            margin: 0 auto 15px;
            border: 3px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
            animation: scaleIn 0.6s ease-out 0.4s backwards;
        }

        .user-avatar:hover {
            transform: scale(1.1) rotate(5deg);
            animation: glow 2s ease-in-out infinite;
        }

        .user-info h3 {
            color: white;
            font-size: 1.3rem;
            margin-bottom: 5px;
            text-align: center;
            animation: fadeInUp 0.6s ease-out 0.5s backwards;
        }

        .user-info p {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
            text-align: center;
            animation: fadeInUp 0.6s ease-out 0.6s backwards;
        }

        .nav-menu {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .nav-menu li {
            margin-bottom: 8px;
            animation: slideInLeft 0.5s ease-out backwards;
        }

        .nav-menu li:nth-child(1) { animation-delay: 0.7s; }
        .nav-menu li:nth-child(2) { animation-delay: 0.8s; }
        .nav-menu li:nth-child(3) { animation-delay: 0.9s; }
        .nav-menu li:nth-child(4) { animation-delay: 1s; }

        .nav-menu a {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 15px;
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            border-radius: 10px;
            transition: all 0.3s ease;
            font-weight: 500;
            position: relative;
            overflow: hidden;
        }

        .nav-menu a::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            width: 0;
            height: 100%;
            background: linear-gradient(90deg, rgba(102, 126, 234, 0.2), transparent);
            transition: width 0.3s ease;
        }

        .nav-menu a:hover::before,
        .nav-menu a.active::before {
            width: 100%;
        }

        .nav-menu a:hover,
        .nav-menu a.active {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            transform: translateX(5px);
        }

        .nav-menu .icon {
            font-size: 1.2rem;
            transition: transform 0.3s ease;
        }

        .nav-menu a:hover .icon {
            transform: scale(1.2);
        }

        /* ===== MAIN CONTENT ===== */
        .account-main {
            display: flex;
            flex-direction: column;
            gap: 25px;
            animation: slideInRight 0.8s ease-out 0.5s backwards;
        }

        .content-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 30px;
            transition: all 0.3s ease;
            animation: scaleIn 0.6s ease-out backwards;
        }

        .content-card:nth-child(1) { animation-delay: 0.6s; }
        .content-card:nth-child(2) { animation-delay: 0.7s; }

        .content-card:hover {
            border-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .content-card h2 {
            color: white;
            font-size: 1.8rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        /* ===== FORM ===== */
        .form-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 25px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-group label {
            color: rgba(255, 255, 255, 0.8);
            font-weight: 500;
            font-size: 0.95rem;
            transition: color 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .form-group label i {
            color: #667eea;
            font-size: 0.9rem;
        }

        .form-group input:focus + label,
        .form-group select:focus + label {
            color: #667eea;
        }

        .form-group input,
        .form-group select {
            padding: 12px 15px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            color: white;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
            background: rgba(255, 255, 255, 0.08);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        /* ===== BUTTONS ===== */
        .btn-group {
            display: flex;
            gap: 15px;
            justify-content: flex-end;
        }

        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s ease, height 0.6s ease;
        }

        .btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn span {
            position: relative;
            z-index: 1;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.5);
        }

        .btn-primary:active {
            transform: translateY(-1px);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .btn-danger {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
            border: 2px solid rgba(239, 68, 68, 0.3);
        }

        .btn-danger:hover {
            background: rgba(239, 68, 68, 0.3);
            border-color: rgba(239, 68, 68, 0.5);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(239, 68, 68, 0.3);
        }

        /* ===== STATS GRID ===== */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 25px;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
            transition: all 0.3s ease;
            animation: scaleIn 0.5s ease-out backwards;
        }

        .stat-card:nth-child(1) { animation-delay: 0.7s; }
        .stat-card:nth-child(2) { animation-delay: 0.8s; }
        .stat-card:nth-child(3) { animation-delay: 0.9s; }

        .stat-card:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }

        .stat-card .number {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 5px;
            animation: pulse 2s ease-in-out infinite;
        }

        .stat-card .label {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
        }

        /* ===== ORDER ITEMS ===== */
        .order-item {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
            animation: fadeInUp 0.5s ease-out backwards;
        }

        .order-item:nth-child(1) { animation-delay: 1s; }
        .order-item:nth-child(2) { animation-delay: 1.1s; }
        .order-item:nth-child(3) { animation-delay: 1.2s; }

        .order-item:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: rgba(255, 255, 255, 0.2);
            transform: translateX(5px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
        }

        .order-info h4 {
            color: white;
            margin-bottom: 8px;
        }

        .order-info p {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
            margin: 3px 0;
        }

        .order-status {
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.85rem;
            animation: pulse 2s ease-in-out infinite;
        }

        .status-delivered {
            background: rgba(34, 197, 94, 0.2);
            color: #4ade80;
        }

        .status-processing {
            background: rgba(59, 130, 246, 0.2);
            color: #60a5fa;
        }

        .status-shipping {
            background: rgba(251, 146, 60, 0.2);
            color: #fb923c;
        }

        /* ===== TAB CONTENT ===== */
        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeInUp 0.6s ease-out;
        }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 968px) {
            .account-container {
                grid-template-columns: 1fr;
            }

            .account-hero h1 {
                font-size: 2rem;
            }

            .form-grid {
                grid-template-columns: 1fr;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .btn-group {
                flex-direction: column;
            }

            .btn {
                width: 100%;
            }
        }

        /* ===== DELETE CONFIRMATION MODAL ===== */
        .modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            animation: fadeIn 0.3s ease-out;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: rgba(30, 30, 30, 0.95);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(239, 68, 68, 0.3);
            border-radius: 20px;
            padding: 40px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            animation: scaleIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 20px 60px rgba(239, 68, 68, 0.4);
        }

        .modal-content h2 {
            color: #ef4444;
            font-size: 2rem;
            margin-bottom: 15px;
        }

        .modal-content p {
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 25px;
            line-height: 1.6;
        }

        .modal-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
    </style>
</head>

<body>
    <!-- Epic Neural Background -->
    <div class="neural-background"></div>
    <div class="geometric-shapes">
        <div class="shape"></div>
        <div class="shape"></div>
        <div class="shape"></div>
        <div class="shape"></div>
    </div>

    <!-- Header -->
    <div id="header"></div>

    <!-- Hero Section -->
    <section class="account-hero" style="margin-top: 50px; padding-bottom: 10px;">
        <h1>MY ACCOUNT</h1>
        <p>Manage your profile and orders</p>
    </section>

    <!-- Account Container -->
    <div class="account-container">
        <!-- Sidebar -->
        <aside class="account-sidebar">
            <div class="sidebar-card">
                <div class="user-avatar" id="user-avatar">A</div>
                <div class="user-info">
                    <h3 id="user-name">Guest User</h3>
                    <p id="user-email">guest@example.com</p>
                </div>
            </div>

            <div class="sidebar-card">
                <ul class="nav-menu">
                    <li><a href="#profile" class="nav-link active" data-tab="profile">
                            <i class="fas fa-user icon"></i>
                            <span>Profile</span>
                        </a></li>
                    <li><a href="#orders" class="nav-link" data-tab="orders">
                            <i class="fas fa-shopping-bag icon"></i>
                            <span>Orders</span>
                        </a></li>
                    <li><a href="#security" class="nav-link" data-tab="security">
                            <i class="fas fa-shield-alt icon"></i>
                            <span>Security</span>
                        </a></li>
                    <li><a href="#" id="logout-link" style="color: #ef4444;">
                            <i class="fas fa-sign-out-alt icon"></i>
                            <span>Logout</span>
                        </a></li>
                </ul>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="account-main">
            <!-- Profile Tab -->
            <div class="tab-content active" id="profile-tab">
                <div class="content-card">
                    <h2><i class="fas fa-id-card"></i> Personal Information</h2>
                    <form id="profile-form">
                        <div class="form-grid">
                            <div class="form-group">
                                <label><i class="fas fa-user"></i> Full Name</label>
                                <input type="text" id="fullName" placeholder="Enter your full name" required>
                            </div>
                            <div class="form-group">
                                <label><i class="fas fa-envelope"></i> Email</label>
                                <input type="email" id="email" placeholder="your@email.com" readonly>
                            </div>
                            <div class="form-group">
                                <label><i class="fas fa-phone"></i> Phone Number</label>
                                <input type="tel" id="phone" placeholder="+84 123 456 789">
                            </div>
                            <div class="form-group">
                                <label><i class="fas fa-birthday-cake"></i> Date of Birth</label>
                                <input type="date" id="dob">
                            </div>
                            <div class="form-group full-width">
                                <label><i class="fas fa-map-marker-alt"></i> Address</label>
                                <input type="text" id="address" placeholder="Street address">
                            </div>
                            <div class="form-group">
                                <label><i class="fas fa-city"></i> City</label>
                                <input type="text" id="city" placeholder="City">
                            </div>
                            <div class="form-group">
                                <label><i class="fas fa-globe"></i> Country</label>
                                <select id="country">
                                    <option value="">Select Country</option>
                                    <option value="VN">Vietnam</option>
                                    <option value="US">United States</option>
                                    <option value="UK">United Kingdom</option>
                                    <option value="JP">Japan</option>
                                    <option value="KR">South Korea</option>
                                </select>
                            </div>
                        </div>
                        <div class="btn-group">
                            <button type="button" class="btn btn-secondary"><span><i class="fas fa-times"></i> Cancel</span></button>
                            <button type="submit" class="btn btn-primary"><span><i class="fas fa-save"></i> Save Changes</span></button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Orders Tab -->
            <div class="tab-content" id="orders-tab">
                <div class="content-card">
                    <h2><i class="fas fa-box-open"></i> Order History</h2>

                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="number" id="total-orders">0</div>
                            <div class="label">Total Orders</div>
                        </div>
                        <div class="stat-card">
                            <div class="number" id="total-spent">$0</div>
                            <div class="label">Total Spent</div>
                        </div>
                        <div class="stat-card">
                            <div class="number" id="active-orders">0</div>
                            <div class="label">Active Orders</div>
                        </div>
                    </div>

                    <div id="orders-list"></div>
                </div>
            </div>

            <!-- Security Tab -->
            <div class="tab-content" id="security-tab">
                <div class="content-card">
                    <h2><i class="fas fa-lock"></i> Security Settings</h2>
                    <form id="password-form">
                        <div class="form-grid">
                            <div class="form-group full-width">
                                <label><i class="fas fa-key"></i> Current Password</label>
                                <input type="password" id="current-password" placeholder="Enter current password"
                                    required>
                            </div>
                            <div class="form-group">
                                <label><i class="fas fa-lock"></i> New Password</label>
                                <input type="password" id="new-password" placeholder="Enter new password" required>
                            </div>
                            <div class="form-group">
                                <label><i class="fas fa-check-circle"></i> Confirm New Password</label>
                                <input type="password" id="confirm-password" placeholder="Confirm new password"
                                    required>
                            </div>
                        </div>
                        <div class="btn-group">
                            <button type="button" class="btn btn-secondary"><span><i class="fas fa-times"></i> Cancel</span></button>
                            <button type="submit" class="btn btn-primary"><span><i class="fas fa-shield-alt"></i> Update Password</span></button>
                        </div>
                    </form>
                </div>

                <div class="content-card">
                    <h2><i class="fas fa-cog"></i> Account Actions</h2>
                    <p style="color: rgba(255,255,255,0.7); margin-bottom: 20px;">Manage your account settings and
                        preferences</p>
                    <div class="btn-group" style="justify-content: flex-start;">
                        <button class="btn btn-secondary" id="export-data-btn">
                            <span><i class="fas fa-download"></i> Export Data</span>
                        </button>
                        <button class="btn btn-danger" id="delete-account-btn">
                            <span><i class="fas fa-trash-alt"></i> Delete Account</span>
                        </button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Delete Account Confirmation Modal -->
    <div id="delete-modal" class="modal">
        <div class="modal-content">
            <h2><i class="fas fa-exclamation-triangle"></i> Delete Account</h2>
            <p>Are you absolutely sure you want to delete your account?</p>
            <p style="color: #ef4444; font-weight: 600;">This action cannot be undone. All your data, orders, and information will be permanently deleted.</p>
            <div style="margin: 25px 0;">
                <label style="color: rgba(255,255,255,0.8); display: block; margin-bottom: 10px;">
                    <i class="fas fa-keyboard"></i> Type "DELETE" to confirm:
                </label>
                <input type="text" id="delete-confirm-input" 
                    style="width: 100%; padding: 12px; background: rgba(255,255,255,0.1); border: 2px solid rgba(239,68,68,0.3); border-radius: 8px; color: white; font-size: 1rem; text-align: center; text-transform: uppercase;"
                    placeholder="Type DELETE">
            </div>
            <div class="modal-buttons">
                <button class="btn btn-secondary" id="cancel-delete-btn">
                    <span><i class="fas fa-times"></i> Cancel</span>
                </button>
                <button class="btn btn-danger" id="confirm-delete-btn" disabled>
                    <span><i class="fas fa-trash"></i> Delete Permanently</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div id="footer"></div>

    <script src="js/neuglass.js"></script>

    <script>
        const CURRENT_KEY = 'ss_currentUser';
        const USERS_KEY = 'ss_users';

        // Load Header & Footer
        async function loadHTML(id, file) {
            const response = await fetch(file);
            document.getElementById(id).innerHTML = await response.text();

            if (id === "header") {
                setTimeout(() => {
                    setupHeaderAuthUI();
                    setupSmartHeader();
                }, 100);
            }
        }

        loadHTML("header", "header.html");
        loadHTML("footer", "footer.html");

        // Check if user is logged in
        const currentUser = JSON.parse(localStorage.getItem(CURRENT_KEY));
        if (!currentUser) {
            alert("‚ö†Ô∏è Please login to access your account!");
            window.location.href = "login.html";
        }

        // Display user info
        if (currentUser) {
            const userName = currentUser.fullName || currentUser.email.split("@")[0];
            const userInitial = userName.charAt(0).toUpperCase();

            document.getElementById("user-avatar").textContent = userInitial;
            document.getElementById("user-name").textContent = userName;
            document.getElementById("user-email").textContent = currentUser.email;
            document.getElementById("fullName").value = userName;
            document.getElementById("email").value = currentUser.email;

            // Load saved profile data if exists
            if (currentUser.phone) document.getElementById("phone").value = currentUser.phone;
            if (currentUser.dob) document.getElementById("dob").value = currentUser.dob;
            if (currentUser.address) document.getElementById("address").value = currentUser.address;
            if (currentUser.city) document.getElementById("city").value = currentUser.city;
            if (currentUser.country) document.getElementById("country").value = currentUser.country;
        }

        // Tab Navigation
        const navLinks = document.querySelectorAll('.nav-link');
        const tabContents = document.querySelectorAll('.tab-content');

        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetTab = link.getAttribute('data-tab');

                // Remove active class
                navLinks.forEach(l => l.classList.remove('active'));
                tabContents.forEach(t => t.classList.remove('active'));

                // Add active class
                link.classList.add('active');
                document.getElementById(`${targetTab}-tab`).classList.add('active');
            });
        });

        // Profile Form Submit
        document.getElementById('profile-form').addEventListener('submit', (e) => {
            e.preventDefault();

            const updatedUser = {
                ...currentUser,
                fullName: document.getElementById('fullName').value,
                phone: document.getElementById('phone').value,
                dob: document.getElementById('dob').value,
                address: document.getElementById('address').value,
                city: document.getElementById('city').value,
                country: document.getElementById('country').value
            };

            // Update in localStorage
            localStorage.setItem(CURRENT_KEY, JSON.stringify(updatedUser));

            // Update in users array
            const users = JSON.parse(localStorage.getItem(USERS_KEY) || "[]");
            const userIndex = users.findIndex(u => u.email === currentUser.email);
            if (userIndex !== -1) {
                users[userIndex] = updatedUser;
                localStorage.setItem(USERS_KEY, JSON.stringify(users));
            }

            alert("‚úÖ Profile updated successfully!");
            location.reload();
        });

        // Password Form Submit
        document.getElementById('password-form').addEventListener('submit', (e) => {
            e.preventDefault();

            const currentPassword = document.getElementById('current-password').value;
            const newPassword = document.getElementById('new-password').value;
            const confirmPassword = document.getElementById('confirm-password').value;

            if (currentPassword !== currentUser.password) {
                return alert("‚ùå Current password is incorrect!");
            }

            if (newPassword !== confirmPassword) {
                return alert("‚ùå New passwords do not match!");
            }

            if (newPassword.length < 6) {
                return alert("‚ùå Password must be at least 6 characters!");
            }

            // Update password
            const updatedUser = { ...currentUser, password: newPassword };
            localStorage.setItem(CURRENT_KEY, JSON.stringify(updatedUser));

            const users = JSON.parse(localStorage.getItem(USERS_KEY) || "[]");
            const userIndex = users.findIndex(u => u.email === currentUser.email);
            if (userIndex !== -1) {
                users[userIndex] = updatedUser;
                localStorage.setItem(USERS_KEY, JSON.stringify(users));
            }

            alert("‚úÖ Password updated successfully!");
            document.getElementById('password-form').reset();
        });

        // Logout functionality
        const logoutLink = document.getElementById('logout-link');
        if (logoutLink) {
            logoutLink.addEventListener('click', (e) => {
                e.preventDefault();
                
                if (confirm('Are you sure you want to logout?')) {
                    localStorage.removeItem(CURRENT_KEY);
                    localStorage.removeItem('currentUser');
                    alert('‚úÖ Logged out successfully!');
                    window.location.href = 'index.html';
                }
            });
        }

        // Export Data functionality
        document.getElementById('export-data-btn').addEventListener('click', () => {
            const userData = {
                profile: currentUser,
                orders: JSON.parse(localStorage.getItem('orders') || '[]').filter(
                    order => order.customer && order.customer.email === currentUser.email
                )
            };

            const dataStr = JSON.stringify(userData, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `account-data-${currentUser.email}-${Date.now()}.json`;
            link.click();
            URL.revokeObjectURL(url);

            alert('‚úÖ Your data has been exported successfully!');
        });

        // Delete Account Modal
        const deleteModal = document.getElementById('delete-modal');
        const deleteBtn = document.getElementById('delete-account-btn');
        const cancelDeleteBtn = document.getElementById('cancel-delete-btn');
        const confirmDeleteBtn = document.getElementById('confirm-delete-btn');
        const deleteConfirmInput = document.getElementById('delete-confirm-input');

        // Open delete modal
        deleteBtn.addEventListener('click', () => {
            deleteModal.classList.add('active');
            deleteConfirmInput.value = '';
            confirmDeleteBtn.disabled = true;
        });

        // Close delete modal
        cancelDeleteBtn.addEventListener('click', () => {
            deleteModal.classList.remove('active');
        });

        // Close modal on background click
        deleteModal.addEventListener('click', (e) => {
            if (e.target === deleteModal) {
                deleteModal.classList.remove('active');
            }
        });

        // Enable confirm button when "DELETE" is typed
        deleteConfirmInput.addEventListener('input', (e) => {
            if (e.target.value.toUpperCase() === 'DELETE') {
                confirmDeleteBtn.disabled = false;
            } else {
                confirmDeleteBtn.disabled = true;
            }
        });

        // Confirm delete account
        confirmDeleteBtn.addEventListener('click', () => {
            if (deleteConfirmInput.value.toUpperCase() === 'DELETE') {
                // Remove user from users array
                const users = JSON.parse(localStorage.getItem(USERS_KEY) || "[]");
                const filteredUsers = users.filter(u => u.email !== currentUser.email);
                localStorage.setItem(USERS_KEY, JSON.stringify(filteredUsers));

                // Remove current user session
                localStorage.removeItem(CURRENT_KEY);
                localStorage.removeItem('currentUser');

                // Remove user's cart
                const cartKey = `cart_${currentUser.email}`;
                localStorage.removeItem(cartKey);
                localStorage.removeItem('cartItems');

                // Remove user's orders
                const orders = JSON.parse(localStorage.getItem('orders') || '[]');
                const filteredOrders = orders.filter(
                    order => !order.customer || order.customer.email !== currentUser.email
                );
                localStorage.setItem('orders', JSON.stringify(filteredOrders));

                deleteModal.classList.remove('active');
                alert('‚úÖ Your account has been permanently deleted.');
                window.location.href = 'index.html';
            }
        });

        // Header Auth UI
        function setupHeaderAuthUI() {
            const accountLink = document.getElementById("account-link");
            const mobileAccountLink = document.getElementById("mobile-account-link");
            const accountDropdown = document.getElementById("account-dropdown");

            if (!accountDropdown) return;

            const dropContent = accountDropdown.querySelector(".dropdown-content");

            if (currentUser) {
                if (accountLink) accountLink.style.display = "block";
                if (mobileAccountLink) mobileAccountLink.style.display = "block";

                dropContent.innerHTML = `
                    <div style="padding:10px 15px; border-bottom:1px solid rgba(255,255,255,0.2); color:white;">
                        Welcome, <b>${currentUser.fullName || currentUser.email.split("@")[0]}</b>
                    </div>
                    <button id="logoutBtn" style="width:100%; padding:8px 0; background:#dc3545; color:white; border:none; cursor:pointer; border-radius:0 0 6px 6px;">
                        Logout
                    </button>
                `;

                const logoutBtn = dropContent.querySelector("#logoutBtn");
                if (logoutBtn) {
                    logoutBtn.addEventListener("click", () => {
                        if (confirm("Are you sure you want to logout?")) {
                            localStorage.removeItem(CURRENT_KEY);
                            localStorage.removeItem('currentUser');
                            window.location.href = "index.html";
                        }
                    });
                }
            }

            dropContent.style.display = "none";

            accountDropdown.addEventListener("mouseenter", () => {
                dropContent.style.display = "block";
            });

            accountDropdown.addEventListener("mouseleave", () => {
                dropContent.style.display = "none";
            });
        }

        // Smart Header
        function setupSmartHeader() {
            const headerElement = document.querySelector('header.glass');
            if (!headerElement) return;

            let lastScrollY = window.scrollY;
            const scrollThreshold = 100;

            window.addEventListener('scroll', () => {
                const currentScrollY = window.scrollY;
                if (currentScrollY > lastScrollY && currentScrollY > scrollThreshold) {
                    headerElement.classList.add('header-hidden');
                } else if (currentScrollY < lastScrollY || currentScrollY < scrollThreshold) {
                    headerElement.classList.remove('header-hidden');
                }
                lastScrollY = currentScrollY;
            });
        }

        // Load orders from localStorage
        function loadOrders() {
            const orders = JSON.parse(localStorage.getItem('orders') || '[]');
            
            // Filter orders by current user email
            const userOrders = orders.filter(order =>
                order.customer && order.customer.email === currentUser.email
            );

            // Calculate stats
            const totalOrders = userOrders.length;
            const totalSpent = userOrders.reduce((sum, order) => sum + (order.total || 0), 0);
            const activeOrders = Math.min(Math.ceil(userOrders.length * 0.6), userOrders.length);

            // Update stats display
            document.getElementById('total-orders').textContent = totalOrders;
            document.getElementById('total-spent').textContent =
                new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' })
                    .format(totalSpent);
            document.getElementById('active-orders').textContent = activeOrders;

            // Display orders
            const ordersList = document.getElementById('orders-list');
            if (userOrders.length === 0) {
                ordersList.innerHTML = `
                    <div style="text-align:center; padding:40px; color:rgba(255,255,255,0.6);">
                        <p style="font-size:1.2rem;">üì¶ No orders yet</p>
                        <p>Start shopping to see your orders here!</p>
                    </div>
                `;
            } else {
                ordersList.innerHTML = userOrders.map((order) => {
                    // Assign status based on order age
                    const orderDate = new Date(order.date);
                    const daysSinceOrder = Math.floor((Date.now() - orderDate.getTime()) / (1000 * 60 * 60 * 24));
                    let status, statusClass;
                    
                    if (daysSinceOrder > 7) {
                        status = 'Delivered';
                        statusClass = 'status-delivered';
                    } else if (daysSinceOrder > 3) {
                        status = 'Shipping';
                        statusClass = 'status-shipping';
                    } else {
                        status = 'Processing';
                        statusClass = 'status-processing';
                    }
                    
                    const itemsText = order.items.length === 1 ? 
                        `${order.items[0].name} √ó 1` :
                        `${order.items.length} items`;

                    const totalVND = new Intl.NumberFormat('vi-VN', { 
                        style: 'currency', 
                        currency: 'VND' 
                    }).format(order.total);

                    return `
                        <div class="order-item">
                            <div class="order-info">
                                <h4>Order #${order.id}</h4>
                                <p>${itemsText}</p>
                                <p>Ordered on: ${new Date(order.date).toLocaleDateString('en-US', {
                                    year: 'numeric',
                                    month: 'short',
                                    day: 'numeric'
                                })}</p>
                                <p style="color: white; font-weight: 600;">${totalVND}</p>
                            </div>
                            <span class="order-status ${statusClass}">${status}</span>
                        </div>
                    `;
                }).join('');
            }
        }

        // Load orders when page loads
        loadOrders();
    </script>
</body>

</html>